(this["webpackJsonphome-exercise-jakob"]=this["webpackJsonphome-exercise-jakob"]||[]).push([[0],{51:function(e,t,n){e.exports=n(81)},56:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setRequestStatus",(function(){return T}));var a={};n.r(a),n.d(a,"requestStatus",(function(){return A}));var c={};n.r(c),n.d(c,"WHITE",(function(){return L})),n.d(c,"LIGHT",(function(){return _})),n.d(c,"DARK",(function(){return M})),n.d(c,"BLACK",(function(){return C})),n.d(c,"SHADOW",(function(){return k}));var i={};n.r(i),n.d(i,"TINY",(function(){return N})),n.d(i,"VERY_SMALL",(function(){return P})),n.d(i,"SMALL",(function(){return H})),n.d(i,"MEDIUM",(function(){return q})),n.d(i,"LARGE",(function(){return B})),n.d(i,"VERY_LARGE",(function(){return G})),n.d(i,"HUGE",(function(){return K}));var u={};n.r(u),n.d(u,"BASE",(function(){return V})),n.d(u,"TOP_CONTENT",(function(){return Y})),n.d(u,"BACK_CONTENT",(function(){return U})),n.d(u,"LOADER",(function(){return W})),n.d(u,"OVERLAY",(function(){return F}));var o={};n.r(o),n.d(o,"fontFamily",(function(){return X}));var s={};n.r(s),n.d(s,"search",(function(){return J}));var l={};n.r(l),n.d(l,"START_SEARCH",(function(){return qe})),n.d(l,"START_SELECT",(function(){return Be})),n.d(l,"SET_SEARCH_PATIENT_IDS",(function(){return Ge})),n.d(l,"SET_SELECTED_PATIENT_ID",(function(){return Ke}));var d={};n.r(d),n.d(d,"startSearch",(function(){return Ve})),n.d(d,"startSelect",(function(){return Ye})),n.d(d,"setSearchPatientIds",(function(){return Ue})),n.d(d,"setSelectedPatientId",(function(){return We}));var f={};n.r(f),n.d(f,"add",(function(){return Qe})),n.d(f,"update",(function(){return $e})),n.d(f,"remove",(function(){return Ze})),n.d(f,"set",(function(){return et})),n.d(f,"setDomain",(function(){return tt}));var m={};n.r(m),n.d(m,"domain",(function(){return ct})),n.d(m,"byId",(function(){return it})),n.d(m,"allIds",(function(){return ut})),n.d(m,"allItems",(function(){return ot})),n.d(m,"item",(function(){return st}));var p={};n.r(p),n.d(p,"setDomainFromRawItems",(function(){return _t}));var b={};n.r(b),n.d(b,"add",(function(){return Mt})),n.d(b,"update",(function(){return Ct})),n.d(b,"remove",(function(){return kt})),n.d(b,"set",(function(){return Nt})),n.d(b,"setDomain",(function(){return Pt}));var v={};n.r(v),n.d(v,"domain",(function(){return Ht})),n.d(v,"byId",(function(){return qt})),n.d(v,"allIds",(function(){return Bt})),n.d(v,"allItems",(function(){return Gt})),n.d(v,"item",(function(){return Kt}));var E={};n.r(E),n.d(E,"setDomainFromRawItems",(function(){return Xt}));var h={};n.r(h),n.d(h,"watcher",(function(){return an}));var g={};n.r(g),n.d(g,"searchPatientIds",(function(){return un})),n.d(g,"selectedPatientId",(function(){return on})),n.d(g,"selectedPatient",(function(){return sn}));var O=n(0),j=n.n(O),x=n(26),I=n.n(x),y=(n(56),n(3)),S=n(12),R=n(4),T=Object(R.createAction)("status/SET_REQUEST_STATUS",(function(e){return e}))(),A=function(e,t){return e.statusCommunication[t]},w=n(82),z={initilized:"unstarted",select_patient:"unstarted",searching:"unstarted"},D=n(7),L="#fff",_="#E9E9E9",M="#a7a6a6",C="#231F20",k="rgba(35, 31, 32, 0.2)",N=1,P=2,H=4,q=8,B=16,G=32,K=64,V=0,Y=20,U=10,W=50,F=100,X={standard:"'Roboto', sans-serif"},J="inset 0px ".concat(P,"px ").concat(H,"px -").concat(P,"px ").concat(k,", inset 0px -").concat(P,"px ").concat(H,"px -").concat(P,"px ").concat(k),Q=n(30),$=n(31),Z=function(e){return j.a.createElement("svg",{viewBox:"0 0 612 612"},j.a.createElement("path",{d:"M286.875 535.5h38.25v-38.25h-38.25v38.25zM306 76.5c-10.557 0-19.125 8.568-19.125 19.125v191.709h-153c-10.557 0-19.125 8.568-19.125 19.125s8.568 19.125 19.125 19.125H306c10.557 0 19.125-8.568 19.125-19.125V95.625c0-10.557-8.568-19.125-19.125-19.125zM128.769 436.662l26.469 26.526 26.469-26.526-26.469-26.526-26.469 26.526zm56.609-277.485l-27.062-27.042-27.043 27.042 27.043 27.043 27.062-27.043zm236.825-.956l26.47 26.526 26.469-26.526-26.469-26.526-26.47 26.526zM416.6 435.629l27.043 27.043 27.043-27.043-27.043-27.042-27.043 27.042zm80.65-148.754v38.25h38.25v-38.25h-38.25zM306 0C136.992 0 0 137.012 0 306c0 169.008 136.992 306 306 306s306-137.012 306-306S475.008 0 306 0zm0 573.75C158.125 573.75 38.25 453.875 38.25 306S158.125 38.25 306 38.25 573.75 158.125 573.75 306 453.875 573.75 306 573.75z"}))},ee=function(e){return j.a.createElement("svg",{viewBox:"0 0 612.01 612.01"},j.a.createElement("path",{d:"M606.209 578.714L448.198 423.228C489.576 378.272 515 318.817 515 253.393 514.98 113.439 399.704 0 257.493 0S.006 113.439.006 253.393s115.276 253.393 257.487 253.393c61.445 0 117.801-21.253 162.068-56.586l158.624 156.099c7.729 7.614 20.277 7.614 28.006 0 7.747-7.613 7.747-19.971.018-27.585zM257.493 467.8c-120.326 0-217.869-95.993-217.869-214.407S137.167 38.986 257.493 38.986c120.327 0 217.869 95.993 217.869 214.407S377.82 467.8 257.493 467.8z"}))},te=function(e){return j.a.createElement("svg",{viewBox:"0 0 559.464 559.464"},j.a.createElement("path",{d:"M411.101 393.094H159.693c-7.434 0-13.468-6.034-13.468-13.468 0-7.443 6.034-13.477 13.468-13.477h251.408c7.434 0 13.468 6.034 13.468 13.477.001 7.435-6.033 13.468-13.468 13.468zM404.107 206.415c0 17.796-14.42 32.216-32.207 32.216s-32.198-14.42-32.198-32.216c0-17.787 14.411-32.207 32.198-32.207s32.207 14.42 32.207 32.207zM218.936 206.415c0 17.796-14.42 32.216-32.198 32.216-17.787 0-32.198-14.42-32.198-32.216 0-17.787 14.411-32.207 32.198-32.207s32.198 14.42 32.198 32.207z"}),j.a.createElement("path",{d:"M279.732 559.464C125.52 559.464.068 433.976.068 279.737.076 125.488 125.529 0 279.732 0s279.664 125.488 279.664 279.736c0 154.239-125.461 279.728-279.664 279.728zm0-532.518c-139.352 0-252.728 113.403-252.728 252.791s113.376 252.79 252.728 252.79c139.361 0 252.728-113.403 252.728-252.791S419.093 26.946 279.732 26.946z"}))},ne=function(e){return j.a.createElement("svg",{viewBox:"0 0 567.419 567.419"},j.a.createElement("path",{d:"M409.93 209.297c0 18.056-14.627 32.692-32.683 32.692-18.047 0-32.683-14.636-32.683-32.692s14.636-32.683 32.683-32.683c18.056 0 32.683 14.627 32.683 32.683zM222.011 209.297c0 18.056-14.636 32.692-32.683 32.692s-32.683-14.636-32.683-32.692 14.636-32.683 32.683-32.683 32.683 14.627 32.683 32.683zM172.538 453.621c-7.434 0-13.468-6.025-13.468-13.468 0-58.138 46.762-105.439 104.245-105.439h45.397c57.483 0 104.245 47.04 104.245 104.855 0 7.443-6.025 13.477-13.468 13.477-7.435 0-13.459-6.034-13.459-13.477 0-42.955-34.685-77.91-77.317-77.91h-45.397c-42.632 0-77.308 35.206-77.308 78.493-.002 7.444-6.036 13.469-13.47 13.469z"}),j.a.createElement("path",{d:"M283.714 567.419C127.311 567.419.072 440.144.072 283.705.072 127.275 127.311 0 283.714 0c156.394 0 283.633 127.275 283.633 283.705 0 156.438-127.239 283.714-283.633 283.714zm0-540.473c-141.552 0-256.705 115.181-256.705 256.759 0 141.588 115.154 256.768 256.705 256.768 141.543 0 256.696-115.181 256.696-256.768 0-141.579-115.153-256.759-256.696-256.759z"}))},re=function(e){return j.a.createElement("svg",{viewBox:"0 0 567.419 567.419"},j.a.createElement("path",{d:"M409.93 209.297c0 18.056-14.627 32.692-32.683 32.692-18.047 0-32.683-14.636-32.683-32.692s14.636-32.683 32.683-32.683c18.056 0 32.683 14.627 32.683 32.683zM222.011 209.297c0 18.056-14.636 32.692-32.683 32.692s-32.683-14.636-32.683-32.692 14.636-32.683 32.683-32.683 32.683 14.627 32.683 32.683zM308.702 451.466h-45.388c-57.483 0-104.253-46.205-104.253-103.014 0-7.443 6.034-13.468 13.468-13.468s13.468 6.025 13.468 13.468c0 42.659 33.958 76.078 77.317 76.078h45.388c43.359 0 77.317-32.863 77.317-74.821 0-7.443 6.034-13.468 13.468-13.468 7.443 0 13.468 6.025 13.468 13.468.001 57.06-45.792 101.757-104.253 101.757z"}),j.a.createElement("path",{d:"M283.714 567.419C127.311 567.419.072 440.144.072 283.705.072 127.275 127.311 0 283.714 0c156.394 0 283.633 127.275 283.633 283.705 0 156.438-127.239 283.714-283.633 283.714zm0-540.473c-141.552 0-256.705 115.181-256.705 256.759 0 141.588 115.154 256.768 256.705 256.768 141.543 0 256.696-115.181 256.696-256.768 0-141.579-115.153-256.759-256.696-256.759z"}))},ae=function(e){switch(e.icon){case"loading":return j.a.createElement(Z,null);case"search":return j.a.createElement(ee,null);case"happy-face":return j.a.createElement(re,null);case"neutral-face":return j.a.createElement(te,null);case"sad-face":return j.a.createElement(ne,null);default:return null}},ce=n(9);function ie(){var e=Object(y.a)(["\n    ","\n\n    > svg {\n      ","\n    }\n  "]);return ie=function(){return e},e}function ue(){var e=Object(y.a)(["\n  height: ","px;\n"]);return ue=function(){return e},e}function oe(){var e=Object(y.a)(["\n  height: ","px;\n"]);return oe=function(){return e},e}function se(){var e=Object(y.a)(["\n  height: ","px;\n"]);return se=function(){return e},e}function le(){var e=Object(y.a)(["\n  display: inline-flex;\n  fill: ",";\n  stroke: ",";\n"]);return le=function(){return e},e}var de=Object(ce.b)(le(),c.BLACK,c.BLACK),fe=Object(ce.b)(se(),24),me=Object(ce.b)(oe(),32),pe=Object(ce.b)(ue(),64);var be=function(e){return Object(ce.b)(ie(),de,function(e){switch(e){case"small":return fe;case"medium":return me;case"large":return pe}}(e))};function ve(){var e=Object(y.a)(["\n  ","\n"]);return ve=function(){return e},e}var Ee=D.a.span(ve(),(function(e){return e.css})),he=function(e){var t=e.size,n=e.type,r=Object($.a)(e,["size","type"]),a=Object(O.useMemo)((function(){return be(t)}),[t]);return j.a.createElement(Ee,Object.assign({className:"icon",css:a},r),j.a.createElement(ae,{icon:n}))};function ge(){var e=Object(y.a)(["\n  position: absolute;\n  z-index: ",";\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",';\n  transition: opacity 0.4s;\n\n  &[aria-hidden="true"] {\n    opacity: 0;\n  }\n  &[aria-hidden="false"] {\n    opacity: 1;\n  }\n']);return ge=function(){return e},e}var Oe=function(e){var t=e.children,n=e.show;return j.a.createElement(je,{"aria-hidden":!n}," ",t," ")},je=D.a.div(ge(),u.OVERLAY,c.SHADOW);var xe=function(e,t){var n=Object(O.useState)(e),r=Object(Q.a)(n,2),a=r[0],c=r[1];return Object(O.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){clearTimeout(n)}}),[e,t]),a};function Ie(){var e=Object(y.a)(["\n  position: relative;\n  top: 0;\n  z-index: ",";\n  .icon {\n    animation: bouncing 1.2s infinite cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n\n  @keyframes bouncing {\n    0% {\n      transform: scale(0.95);\n    }\n    5% {\n      transform: scale(1.1);\n    }\n    39% {\n      transform: scale(0.85);\n    }\n    45% {\n      transform: scale(1);\n    }\n    60% {\n      transform: scale(0.95);\n    }\n    100% {\n      transform: scale(0.9);\n    }\n  }\n"]);return Ie=function(){return e},e}var ye=function(e){var t=e.isLoading,n=xe(t,200),r=Object(O.useState)(!1),a=Object(Q.a)(r,2),c=a[0],i=a[1];return Object(O.useEffect)((function(){i(t)}),[t]),n||!1!==c?j.a.createElement(Oe,{show:c},j.a.createElement(Se,null,j.a.createElement(he,{type:"loading",size:"large"}))):null},Se=D.a.div(Ie(),u.LOADER);function Re(){var e=Object(y.a)(["\n        ","\n        font-size: ","px;\n        ","\n      "]);return Re=function(){return e},e}function Te(){var e=Object(y.a)(["\n    ","\n    ","\n  "]);return Te=function(){return e},e}function Ae(){var e=Object(y.a)(["\n  font-style: italic;\n"]);return Ae=function(){return e},e}function we(){var e=Object(y.a)(["\n  font-weight: 600;\n"]);return we=function(){return e},e}function ze(){var e=Object(y.a)(["\n  color: ",";\n  font-family: ",";\n"]);return ze=function(){return e},e}var De=Object(ce.b)(ze(),c.BLACK,o.fontFamily.standard),Le={small:14,medium:16,large:24},_e=Object(ce.b)(we()),Me=Object(ce.b)(Ae());var Ce=function(e,t,n){switch(e){case"standard":return Object(ce.b)(Re(),De,Le[t],n&&function(e,t){var n=e.bold,r=e.italic;return Object(ce.b)(Te(),n&&_e,r&&Me)}(n))}};function ke(){var e=Object(y.a)(["\n  background-color: ",";\n  height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border: ","px solid ",";\n  box-shadow: ",";\n  padding: 0 ","px;\n  > .icon {\n    fill: ",";\n  }\n\n  > input {\n    text-transform: lowercase;\n    background-image: none;\n    padding-right: ","px;\n    ",";\n    color: ",";\n\n    ::placeholder {\n      color: ",";\n    }\n  }\n"]);return ke=function(){return e},e}var Ne=function(e){var t=e.onSearch,n=e.placeholder,r=Object(O.useRef)(null);return Object(O.useEffect)((function(){r.current&&r.current.focus()}),[r]),j.a.createElement(He,null,j.a.createElement("input",{onChange:function(e){return t(e.currentTarget.value)},placeholder:n,ref:r}),j.a.createElement(he,{type:"search",size:"small"}))},Pe=Ce("standard","large"),He=D.a.div(ke(),c.WHITE,i.VERY_LARGE+i.LARGE,i.TINY,c.DARK,s.search,i.MEDIUM,c.DARK,i.MEDIUM,Pe,c.BLACK,c.DARK),qe="app/START_SEARCH",Be="app/START_SELECT",Ge="app/SET_SEARCH_PATIENT_IDS",Ke="app/SET_SELECTED_PATIENT_ID",Ve=Object(R.createAction)(qe,(function(e){return e}))(),Ye=Object(R.createAction)(Be,(function(e){return e}))(),Ue=Object(R.createAction)(Ge,(function(e){return e}))(),We=Object(R.createAction)(Ke,(function(e){return e}))(),Fe=n(10),Xe=n.n(Fe),Je=n(6),Qe=Object(R.createAction)("patient/ADD",(function(e){return e}))(),$e=Object(R.createAction)("patient/UPDATE",(function(e){return e}))(),Ze=Object(R.createAction)("patient/REMOVE",(function(e){return e}))(),et=Object(R.createAction)("patient/SET",(function(e){return e}))(),tt=Object(R.createAction)("patient/SET_DOMAIN",(function(e){return e}))(),nt=n(20),rt=n(83),at=n(84),ct=function(e){return e.patientData},it=function(e){return e.patientData.byId},ut=function(e){return e.patientData.allIds},ot=Object(nt.a)(it,ut,(function(e,t){return t.map((function(t){return e[t]}))})),st=Object(nt.a)((function(e,t){return t.patientId}),it,(function(e,t){return rt.a(t,at.a(e))})),lt=n(21),dt=n(18),ft=n(85),mt=n(86),pt=n(87),bt=n(88);var vt={add:function(e,t){return{byId:ft.a(e.byId,t.id,t),allIds:[].concat(Object(dt.a)(e.allIds),[t.id])}},update:function(e,t){return Object(lt.a)({},e,{byId:w.a(e.byId,t.id,mt.a(e.byId[t.id],t))})},remove:function(e,t){return{byId:pt.a(e.byId,[t]),allIds:bt.a(e.allIds,(function(e){return e===t}))}},set:function(e,t){return{byId:w.a(e.byId,t.id,t),allIds:e.allIds}}},Et=n(47),ht=n(48),gt=n.n(ht);function Ot(){return(Ot=Object(Et.a)(Xe.a.mark((function e(t){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gt.a.get(t.join("/")).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jt=function(e){return Ot.apply(this,arguments)},xt=n(89),It=n(90),yt=n(91),St=n(92);function Rt(e){var t=e.replace(/\r?\n|\r/g,"").split("|");return 16!==t.length?null:{clinicNo:t[0],barcode:t[1],patientId:t[2],patientName:t[3],dob:t[4],gender:t[5],collectionDate:t[6],collectionTime:t[7],testCode:t[8],testName:t[9],result:t[10],unit:t[11],refrangeLow:t[12],refrangeHigh:t[13],note:t[14],nonSpecRefs:t[15]}}var Tt={parseText:function(e){var t=e.split("\n");return rt.a(t,xt.a((function(e){return!e.startsWith("#")})),It.a(1),yt.a,(function(e){return e||[]}),St.a(Rt),xt.a((function(e){return!!e})))},rowToRaw:Rt};var At={isEmpty:function(e){return!e||0===e.length}},wt={allIds:[],byId:{}},zt=n(93),Dt=n(94),Lt=Xe.a.mark(_t);function _t(e){var t,n,r,a;return Xe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=rt.a(e,zt.a(at.a("patientId"))),n=Object.keys(t),r={},a=function(e){n=bt.a(n,(function(t){return t===e}))},Dt.a.indexed(t,(function(e,t){var n=St.a(e,at.a("barcode")),c=yt.a(e);if(!c)return a(t);var i=c.dob,u=c.gender,o={id:c.patientId,name:c.patientName,gender:u,dob:i,testIds:n};r=ft.a(r,t,o)})),c.next=7,Object(Je.e)(f.setDomain({byId:r,allIds:n}));case 7:case"end":return c.stop()}}),Lt)}var Mt=Object(R.createAction)("testResult/ADD",(function(e){return e}))(),Ct=Object(R.createAction)("testResult/UPDATE",(function(e){return e}))(),kt=Object(R.createAction)("testResult/REMOVE",(function(e){return e}))(),Nt=Object(R.createAction)("testResult/SET",(function(e){return e}))(),Pt=Object(R.createAction)("testResult/SET_DOMAIN",(function(e){return e}))(),Ht=function(e){return e.testResultData},qt=function(e){return e.testResultData.byId},Bt=function(e){return e.testResultData.allIds},Gt=Object(nt.a)(qt,Bt,(function(e,t){return t.map((function(t){return e[t]}))})),Kt=Object(nt.a)((function(e,t){return t.testResultId}),qt,(function(e,t){return rt.a(t,at.a(e))})),Vt={allIds:[],byId:{}},Yt=n(95),Ut=Xe.a.mark(Xt);function Wt(e){if(!At.isEmpty(e))return e}function Ft(e){if(!At.isEmpty(e)){var t=Number(e.replace(/\D/g,""));if(!isNaN(t))return t}}function Xt(e){var t,n,r;return Xe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.map((function(e){var t=e.barcode,n=e.clinicNo,r=e.collectionDate,a=e.collectionTime,c=e.patientId,i=e.testCode,u=e.testName,o=e.result,s=e.unit,l=e.refrangeLow,d=e.refrangeHigh,f=e.note,m=e.nonSpecRefs,p="".concat(r,", ").concat(a),b="Pending"!==o?Number(o):o;return{id:t,barcode:Number(t),clinicId:n,patientId:c,collected:p,testCode:i,testName:u,result:b,unit:At.isEmpty(s)?void 0:s,refrangeLow:Ft(l),refrangeHigh:Ft(d),note:Wt(f),nonSpecRefs:Wt(m)}})),n=Yt.a(t,at.a("id")),r=Object.keys(n),a.next=5,Object(Je.e)(b.setDomain({byId:n,allIds:r}));case 5:case"end":return a.stop()}}),Ut)}var Jt=n(49),Qt=Xe.a.mark(tn),$t=Xe.a.mark(nn),Zt=Xe.a.mark(rn),en=Xe.a.mark(an);function tn(){var e,t,n;return Xe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Je.e)(r.setRequestStatus({request:"initilized",status:"loading"}));case 3:return a.next=5,Object(Je.c)(600);case 5:return a.next=7,Object(Je.b)(jt,["data","data.txt"]);case 7:return e=a.sent,t=Tt.parseText(e),a.next=11,Object(Je.b)(p.setDomainFromRawItems,t);case 11:return a.next=13,Object(Je.b)(E.setDomainFromRawItems,t);case 13:return a.next=15,Object(Je.f)(m.allIds);case 15:return n=a.sent,a.next=18,Object(Je.e)(d.setSearchPatientIds(n));case 18:a.next=24;break;case 20:return a.prev=20,a.t0=a.catch(0),a.next=24,Object(Je.e)(r.setRequestStatus({request:"initilized",status:"error"}));case 24:return a.prev=24,a.next=27,Object(Je.e)(r.setRequestStatus({request:"initilized",status:"done"}));case 27:return a.finish(24);case 28:case"end":return a.stop()}}),Qt,null,[[0,20,24,28]])}function nn(e){var t,n,a,c,i,u;return Xe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Je.e)(r.setRequestStatus({request:"searching",status:"loading"}));case 3:return o.next=5,Object(Je.c)(400);case 5:if(t=e.payload,!At.isEmpty(t)){o.next=13;break}return o.next=9,Object(Je.f)(m.allIds);case 9:return n=o.sent,o.next=12,Object(Je.e)(d.setSearchPatientIds(n));case 12:return o.abrupt("return");case 13:return o.next=15,Object(Je.f)(m.allItems);case 15:return a=o.sent,c={keys:[{name:"name",weight:1},{name:"id",weight:2}],shouldSort:!0,threshold:.2},i=new Jt.a(a,c),u=i.search(t).map((function(e){return e.item.id})),o.next=21,Object(Je.e)(d.setSearchPatientIds(u));case 21:o.next=28;break;case 23:return o.prev=23,o.t0=o.catch(0),o.next=27,Object(Je.e)(r.setRequestStatus({request:"searching",status:"error"}));case 27:console.log(o.t0);case 28:return o.prev=28,o.next=31,Object(Je.e)(r.setRequestStatus({request:"searching",status:"done"}));case 31:return o.finish(28);case 32:case"end":return o.stop()}}),$t,null,[[0,23,28,32]])}function rn(e){var t;return Xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Je.e)(r.setRequestStatus({request:"select_patient",status:"loading"}));case 3:return t=e.payload,n.next=6,Object(Je.e)(d.setSelectedPatientId(t));case 6:return n.next=8,Object(Je.c)(1e3);case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(Je.e)(r.setRequestStatus({request:"select_patient",status:"error"}));case 14:console.log(n.t0);case 15:return n.prev=15,n.next=18,Object(Je.e)(r.setRequestStatus({request:"select_patient",status:"done"}));case 18:return n.finish(15);case 19:case"end":return n.stop()}}),Zt,null,[[0,10,15,19]])}function an(){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.d)(tn);case 2:return e.t0=Je.a,e.next=5,Object(Je.h)(l.START_SEARCH,nn);case 5:return e.t1=e.sent,e.next=8,Object(Je.h)(l.START_SELECT,rn);case 8:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=12,(0,e.t0)(e.t3);case 12:case"end":return e.stop()}}),en)}var cn={searchPatientIds:[],selectedPatientId:null},un=function(e){return e.app.searchPatientIds},on=function(e){return e.app.selectedPatientId},sn=Object(nt.a)(on,m.byId,(function(e,t){return e?rt.a(t,at.a(e)):null}));function ln(){var e=Object(y.a)(["\n  background-color: ",";\n  border-bottom: ","px solid ",";\n  border-top-left-radius: ","px;\n  padding: ","px;\n"]);return ln=function(){return e},e}var dn=Object(S.b)(null,(function(e){return{onPatientSearch:function(t){return e(d.startSearch(t))}}}))((function(e){var t=e.onPatientSearch;return j.a.createElement(fn,null,j.a.createElement(Ne,{onSearch:t,placeholder:"search for patient..."}))})),fn=D.a.div(ln(),c.DARK,i.TINY,c.BLACK,i.MEDIUM,i.LARGE);function mn(){var e=Object(y.a)(["\n  ","\n"]);return mn=function(){return e},e}var pn=D.a.span(mn(),(function(e){return e.css})),bn=function(e){var t=e.text,n=e.size,r=void 0===n?"medium":n,a=e.type,c=void 0===a?"standard":a,i=e.variation,u=Object($.a)(e,["text","size","type","variation"]),o=Object(O.useMemo)((function(){return Ce(c,r,i)}),[r,c,i]);return j.a.createElement(pn,Object.assign({className:"text",css:o},u),t)};function vn(){var e=Object(y.a)(["\n  display: grid;\n  width: 100%;\n  ","\n"]);return vn=function(){return e},e}function En(){var e=Object(y.a)(["\n      grid-template-columns: ",";\n    "]);return En=function(){return e},e}var hn=function(e){var t=e.children,n=e.columns,r=Object(O.useMemo)((function(){var e=n.map((function(e){return"".concat(e,"fr")})).join(" ");return Object(ce.b)(En(),e)}),[n]);return j.a.createElement(gn,{css:r,className:"hej"},t)},gn=D.a.div(vn(),(function(e){return e.css}));function On(){var e=Object(y.a)(["\n  overflow: hidden;\n  display: flex;\n  justify-content: ",";\n  align-items: center;\n  padding: 0 ","px;\n"]);return On=function(){return e},e}var jn=function(e){var t=e.children,n=e.align,r=void 0===n?"flex-start":n;return j.a.createElement(xn,{align:r},t)},xn=D.a.div(On(),(function(e){return e.align}),i.LARGE),In=function(e){var t=e.headerColumns;return j.a.createElement(hn,{columns:t.map((function(e){return e.fr}))},t.map((function(e,t){var n=e.title,r=e.align;return j.a.createElement(jn,{key:t,align:r},j.a.createElement(bn,{text:n,variation:{bold:!0}}))})))},yn=Object(S.b)((function(e,t){var n=t.patientId;return{patient:m.item(e,{patientId:n})}}))((function(e){var t=e.patient;return j.a.createElement(hn,{columns:Kn.map((function(e){return e.fr}))},j.a.createElement(jn,{align:Kn[0]&&Kn[0].align},j.a.createElement(bn,{text:t.id})),j.a.createElement(jn,{align:Kn[1]&&Kn[1].align},j.a.createElement(bn,{text:t.name})),j.a.createElement(jn,{align:Kn[2]&&Kn[2].align},j.a.createElement(bn,{text:"".concat(t.testIds.length)})))}));function Sn(){var e=Object(y.a)(["\n  width: 100%;\n  position: relative;\n  z-index: ",";\n"]);return Sn=function(){return e},e}var Rn=D.a.ul(Sn(),u.TOP_CONTENT);function Tn(){var e=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  ","\n"]);return Tn=function(){return e},e}function An(){var e=Object(y.a)(["\n    ","\n    ","\n    ","\n  "]);return An=function(){return e},e}function wn(){var e=Object(y.a)(["\n  height: ","px;\n"]);return wn=function(){return e},e}function zn(){var e=Object(y.a)(['\n  &:hover,\n  &[aria-expanded="true"] {\n    background-color: ',";\n  }\n"]);return zn=function(){return e},e}function Dn(){var e=Object(y.a)(["\n  background-color: ",";\n\n  :nth-of-type(2n-1) {\n    background-color: ",";\n  }\n"]);return Dn=function(){return e},e}function Ln(){var e=Object(y.a)(["\n  background-color: ",";\n  .text,\n  .icon {\n    color: ",";\n  }\n"]);return Ln=function(){return e},e}var _n=function(e){var t=e.children,n=e.active,r=void 0!==n&&n,a=e.header,c=void 0!==a&&a,u=e.filler,o=void 0!==u&&u,s=e.size,l=void 0===s?"medium":s,d=e.onClick,f=Object(O.useMemo)((function(){switch(l){case"small":return i.VERY_LARGE;case"medium":return i.VERY_LARGE+i.LARGE;case"large":return i.HUGE}}),[l]);return j.a.createElement(Nn,{className:"list-item","aria-expanded":!c&&r,onClick:d,header:c,hoverable:!o,height:f},t)},Mn=Object(ce.b)(Ln(),c.BLACK,c.WHITE),Cn=Object(ce.b)(Dn(),c.WHITE,c.LIGHT),kn=Object(ce.b)(zn(),c.SHADOW),Nn=D.a.li(Tn(),(function(e){var t=e.header,n=e.hoverable,r=e.height;return Object(ce.b)(An(),t?Mn:Cn,n&&!t&&kn,function(e){return Object(ce.b)(wn(),e)}(r))})),Pn=n(96);function Hn(){var e=Object(y.a)(["\n  position: absolute;\n  top: 0;\n  z-index: ",";\n  max-height: 100%;\n  overflow: hidden;\n  height: 100%;\n"]);return Hn=function(){return e},e}var qn=function(e){var t=e.numberOfItems,n=e.size,r=void 0===n?"medium":n,a=e.header,c=void 0!==a&&a,i=Object(O.useMemo)((function(){return Pn.a(t,(function(e){return j.a.createElement(_n,{key:e,filler:!0,size:r})}))}),[t,r]);return j.a.createElement(Bn,null,c&&j.a.createElement(_n,{key:"header",filler:!0,size:r,header:c}),i)},Bn=Object(D.a)(Rn)(Hn(),u.BACK_CONTENT);function Gn(){var e=Object(y.a)(["\n  width: 33%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  border-right: ","px solid ",";\n  > div.patients {\n    width: 100%;\n    overflow-y: auto;\n    flex-grow: 1;\n    position: relative;\n  }\n"]);return Gn=function(){return e},e}var Kn=[{fr:1,title:"no",align:"center"},{fr:4,title:"name"},{fr:1,title:"tests",align:"flex-end"}],Vn=Object(S.b)((function(e){return{resultPatientIds:g.searchPatientIds(e),isSearching:"loading"===a.requestStatus(e,"searching"),selectedPatientId:g.selectedPatientId(e)}}),(function(e){return{selectPatientId:function(t){return e(d.startSelect(t))}}}))((function(e){var t=e.resultPatientIds,n=e.isSearching,r=e.selectedPatientId,a=e.selectPatientId;return j.a.createElement(Yn,null,j.a.createElement(dn,null),j.a.createElement("div",{className:"patients"},j.a.createElement(ye,{isLoading:n}),j.a.createElement(Rn,null,j.a.createElement(_n,{key:"header",header:!0,size:"small"},j.a.createElement(In,{headerColumns:Kn})),t.map((function(e){return j.a.createElement(_n,{key:e,active:e===r,onClick:function(){return a(e)},size:"small"},j.a.createElement(yn,{patientId:e}))}))),j.a.createElement(qn,{numberOfItems:50,size:"small"})))})),Yn=D.a.div(Gn(),i.VERY_SMALL,c.BLACK);function Un(){var e=Object(y.a)(["\n  height: ","px;\n  display: flex;\n  align-items: center;\n  .text {\n    &:first-of-type {\n      text-transform: uppercase;\n      color: ",";\n      width: ","px;\n    }\n    &:not(:first-of-type) {\n      padding: 0 ","px;\n      flex-grow: 1;\n      border-bottom: ","px dotted ",";\n      line-height: ","px;\n    }\n  }\n"]);return Un=function(){return e},e}var Wn=function(e){var t=e.label,n=e.text;return j.a.createElement(Fn,null,j.a.createElement(bn,{text:"".concat(t,":"),size:"small"}),j.a.createElement(bn,{text:n,size:"medium"}))},Fn=D.a.div(Un(),i.VERY_LARGE+i.LARGE,c.DARK,2*i.HUGE,i.MEDIUM,i.VERY_SMALL,c.DARK,i.VERY_LARGE),Xn=Object(S.b)((function(e,t){var n=t.testResultId;return{testResult:v.item(e,{testResultId:n})}}))((function(e){var t=e.testResult,n=t.collected,r=t.testCode,a=t.testName,c=t.result,i=t.unit,u=t.barcode,o=t.refrangeHigh,s=t.refrangeLow,l=Object(O.useMemo)((function(){return s&&o?c>=s&&c<=o?j.a.createElement(he,{type:"happy-face",size:"small"}):j.a.createElement(he,{type:"sad-face",size:"small"}):o&&!s?c<=o?j.a.createElement(he,{type:"happy-face",size:"small"}):j.a.createElement(he,{type:"sad-face",size:"small"}):s&&!o?c>=s?j.a.createElement(he,{type:"happy-face",size:"small"}):j.a.createElement(he,{type:"sad-face",size:"small"}):j.a.createElement(bn,{text:"-"})}),[o,s,c]),d=Object(O.useMemo)((function(){return!o&&s?">= ".concat(s," ").concat(i):!s&&o?"<= ".concat(o," ").concat(i):s&&o?"".concat(s,"-").concat(o," ").concat(i):"-"}),[o,s,i]);return j.a.createElement(hn,{columns:Qn.map((function(e){return e.fr}))},j.a.createElement(jn,{align:Qn[0]&&Qn[0].align},j.a.createElement(bn,{text:n})),j.a.createElement(jn,{align:Qn[1]&&Qn[1].align},j.a.createElement(bn,{text:"".concat(u)})),j.a.createElement(jn,{align:Qn[2]&&Qn[2].align},j.a.createElement(bn,{text:"".concat(r,", ").concat(a)})),j.a.createElement(jn,{align:Qn[3]&&Qn[3].align},"Pending"===c?j.a.createElement(bn,{text:c,variation:{italic:!0}}):j.a.createElement(bn,{text:"".concat(c," ").concat(i||"")})),j.a.createElement(jn,{align:Qn[4]&&Qn[4].align},j.a.createElement(bn,{text:d,variation:{italic:!0}})),j.a.createElement(jn,{align:Qn[5]&&Qn[5].align},l))}));function Jn(){var e=Object(y.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  > div.patient {\n    column-count: 2;\n    column-gap: ","px;\n    column-fill: auto;\n    height: ","px;\n    padding: ","px;\n    width: 100%;\n    background-color: ",";\n    border-bottom: ","px solid ",";\n  }\n\n  > div.test-result {\n    flex-grow: 1;\n    position: relative;\n  }\n"]);return Jn=function(){return e},e}var Qn=[{fr:1,title:"collected"},{fr:1,title:"barcode"},{fr:2,title:"test"},{fr:1,title:"result"},{fr:1,title:"range"},{fr:1,title:"diagnostic",align:"center"}],$n=Object(S.b)((function(e){return{selectedPatient:g.selectedPatient(e),isSelecting:"loading"===a.requestStatus(e,"select_patient")}}))((function(e){var t=e.selectedPatient,n=e.isSelecting;return j.a.createElement(Zn,null,j.a.createElement("div",{className:"patient"},t&&j.a.createElement(j.a.Fragment,null,j.a.createElement(Wn,{label:"patient no",text:t.id}),j.a.createElement(Wn,{label:"birthdate",text:t.dob}),j.a.createElement(Wn,{label:"name",text:t.name}),j.a.createElement(Wn,{label:"gender",text:"M"===t.gender?"Male":"Female"}))),j.a.createElement("div",{className:"test-result"},j.a.createElement(ye,{isLoading:n}),j.a.createElement(Rn,null,j.a.createElement(_n,{key:"header",header:!0,size:"large"},j.a.createElement(In,{headerColumns:Qn})),t&&!n&&t.testIds.map((function(e){return j.a.createElement(_n,{key:e,size:"large"},j.a.createElement(Xn,{testResultId:e}))}))),j.a.createElement(qn,{numberOfItems:50,size:"large",header:!0})))})),Zn=D.a.div(Jn(),i.VERY_LARGE,2*i.HUGE,i.LARGE,c.LIGHT,i.TINY,c.BLACK);function er(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  width: 1680px;\n  height: 1050px;\n  background-color: ",";\n  border: ","px solid ",";\n  border-radius: ","px;\n"]);return er=function(){return e},e}var tr=function(){return j.a.createElement(nr,null,j.a.createElement(Vn,null),j.a.createElement($n,null))},nr=D.a.div(er(),c.WHITE,i.VERY_SMALL,c.BLACK,i.MEDIUM);function rr(){var e=Object(y.a)(["\n  width: 100vw;\n  height: 100vh;\n  max-height: 100vh;\n  max-width: 100vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  position: absolute;\n  overflow: hidden;\n  z-index: ",";\n"]);return rr=function(){return e},e}var ar=Object(S.b)((function(e){return{initilizing:"loading"===a.requestStatus(e,"initilized")}}))((function(e){var t=e.initilizing;return j.a.createElement(cr,null,j.a.createElement(ye,{isLoading:t}),!t&&j.a.createElement(tr,null))})),cr=D.a.div(rr(),c.DARK,u.BASE);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ir=n(14),ur=Object(ir.c)({patientData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(R.getType)(f.add):return vt.add(e,t.payload);case Object(R.getType)(f.set):return vt.set(e,t.payload);case Object(R.getType)(f.update):return vt.update(e,t.payload);case Object(R.getType)(f.remove):return vt.remove(e,t.payload);case Object(R.getType)(f.setDomain):var n=t.payload,r=n.allIds,a=n.byId;return{allIds:r,byId:a};default:return e}},testResultData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(R.getType)(b.add):return vt.add(e,t.payload);case Object(R.getType)(b.set):return vt.set(e,t.payload);case Object(R.getType)(b.update):return vt.update(e,t.payload);case Object(R.getType)(b.remove):return vt.remove(e,t.payload);case Object(R.getType)(b.setDomain):var n=t.payload,r=n.allIds,a=n.byId;return{allIds:r,byId:a};default:return e}},statusCommunication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(R.getType)(r.setRequestStatus):var n=t.payload,a=n.request,c=n.status;return w.a(e,a,c);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(R.getType)(d.setSearchPatientIds):return Object(lt.a)({},e,{searchPatientIds:t.payload});case Object(R.getType)(d.setSelectedPatientId):return Object(lt.a)({},e,{selectedPatientId:t.payload});default:return e}}}),or=n(50),sr=Xe.a.mark(lr);function lr(){return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.a)([Object(Je.g)(h.watcher)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),sr)}var dr=Object(or.a)(),fr=[dr],mr=Object(ir.d)(ir.a.apply(void 0,fr),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__());var pr=function(e){var t=Object(ir.e)(ur,e,mr);return dr.run(lr),t}();I.a.render(j.a.createElement(j.a.StrictMode,null,j.a.createElement(S.a,{store:pr},j.a.createElement(ar,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.f4cc93c3.chunk.js.map